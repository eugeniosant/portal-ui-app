{"version":3,"sources":["App.js","widgets/choose-language/ChooseLanguageWidget.js","widgets/choose-language/custom-element/ChooseLanguageElement.js","common/keyboard/match.js","common/keyboard/keys.js","common/ui-shell/HeaderMenu.js","common/prop-types/isRequiredOneOf.js","common/prop-types/AriaPropTypes.js","widgets/login-button/LoginButtonWidget.js","widgets/login-button/LoginButtonWidgetElement.js","widgets/navigation-bar/NavigationBarWidget.js","widgets/navigation-bar/custom-element/NavigationBarElement.js","widgets/search-bar/SearchBarWidget.js","widgets/search-bar/custom-element/SearchBarElement.js","fragments/header-fragment/HeaderFragment.js","fragments/header-fragment/custom-element/HeaderFragmentElement.js","index.js"],"names":["languages","code","descr","sampleMenu","title","level","url","voidPage","App","props","state","expanded","handleExpandSidePanel","bind","this","setState","prevState","Header","aria-label","HeaderName","href","prefix","HeaderGlobalBar","HeaderGlobalAction","onClick","HeaderPanel","Switcher","SwitcherItem","SwitcherDivider","Content","path","exact","render","current-lang","JSON","stringify","style","paddingLeft","admin-url","process","redirect-url","current-page","nav-items","action-url","placeholder","app-url","page","Component","ChooseLanguageWidget","currentLang","menuLeanRight","OverflowMenu","renderIcon","className","flipped","map","lang","OverflowMenuItem","key","itemText","join","defaultProps","ATTRIBUTES","ChooseLanguageElement","attribute","oldValue","newValue","Object","values","includes","Error","mountPoint","document","createElement","appendChild","setTimeout","parse","getAttribute","rightBound","offsetLeft","body","clientWidth","ReactDOM","HTMLElement","customElements","get","define","matches","event","keysToMatch","i","length","match","eventOrCode","which","keyCode","Array","isArray","indexOf","Enter","Escape","Space","propTypes","names","keys","reduce","o","name","propType","propName","componentName","rest","isRequiredOneOf","PropTypes","string","settings","HeaderMenu","_subMenus","React","createRef","handleOnIconClick","e","stopPropagation","preventDefault","handleOnClick","subMenusNode","current","contains","target","handleOnKeyDown","handleOnBlur","relatedTarget","closestRelatedSubmenu","closest","closestSubmenu","currentTarget","dataset","uniqueId","querySelector","itemTriggeredBlur","items","find","element","selectedIndex","handleMenuButtonRef","node","focusRef","menuButtonRef","handleItemRef","index","handleMenuClose","focus","_renderMenuItem","item","isValidElement","cloneElement","ref","ariaLabel","ariaLabelledBy","customClassName","children","MenuContent","renderMenuContent","menuLinkName","accessibilityLabel","cx","onKeyDown","tabIndex","data-unique-id","onBlur","aria-expanded","aria-haspopup","Children","HeaderMenuForwardRef","forwardRef","displayName","getKeycloakInstance","entando","window","initialized","keycloak","LoginButtonWidget","username","keycloakEventHandler","keycloakEvent","detail","eventType","updateUsername","resetUsername","logout","addEventListener","removeEventListener","adminUrl","userDisplayName","redirectUrl","authenticated","HeaderNavigation","HeaderMenuItem","redirectUri","login","sessionUser","LoginButtonWidgetElement","observedAttributes","TAG","NavigationBarWidget","currentPageMarked","top","isCurrent","currentPage","isTopMenu","Number","isFirstLevelMenu","HeadComp","selectedMenu","childitem","itemNoChild","isTop","menuProps","Icon","ChevronDown16","ChevronRight16","isCurrentPage","renderNav","navItems","NavigationBarElement","navItemString","parsed","navItem","navIdx","parentLevels","forEach","nav","push","pop","currentLevel","condenseNavItems","SearchBarWidget","actionUrl","useState","formOpened","setFormOpened","searchFormClass","action","type","SearchBarElement","HeaderFragment","handleLogoAreaRef","childNodes","filter","child","logo","clonedLogo","cloneNode","classList","add","handleMenuAreaRef","tagName","toLowerCase","navbar","handleActionsRef","tag","clonedAction","applicationBaseURL","HeaderFragmentElement","observer","childs","extractTemplateTag","ttag","templ","getElementsByTagName","contentChildren","content","templateTag","MutationObserver","mutations","mutation","addedNodes","observe","childList","activateObserve","REACT_APP_LOCAL","getElementById"],"mappings":"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","file":"static/js/main.fb2d745b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { AppSwitcher20 } from '@carbon/icons-react';\nimport {\n  Header,\n  HeaderName,\n  HeaderPanel,\n  Switcher,\n  SwitcherItem,\n  SwitcherDivider,\n  Content,\n  HeaderGlobalBar,\n  HeaderGlobalAction,\n} from 'carbon-components-react';\n\nconst languages = [\n  { code: 'EN', descr: 'English' },\n  { code: 'IT', descr: 'Italian' },\n];\n\nconst sampleMenu = [\n  {\n    code: 'homepage',\n    title: 'Home',\n    level: '0',\n    url: 'http://localhost:8090/entando-de-app/en/homepage.page',\n    voidPage: true\n  },\n  {\n    code: 'my_page',\n    title: 'My Page',\n    level: '1',\n    url: 'http://localhost:8090/entando-de-app/en/my_page.page',\n    voidPage: false\n  },\n  {\n    code: 'homepage_test',\n    title: 'Home - test',\n    level: '1',\n    url: 'http://localhost:8090/entando-de-app/en/homepage_test.page',\n    voidPage: false\n  },\n  {\n    code: 'sitemap',\n    title: 'Sitemap',\n    level: '2',\n    url: 'http://localhost:8090/entando-de-app/en/sitemap.page',\n    voidPage: false\n  },\n  {\n    code: 'homepage',\n    title: 'Home',\n    level: '0',\n    url: 'http://localhost:8090/entando-de-app/en/homepage.page',\n    voidPage: true\n  },\n  {\n    code: 'my_page',\n    title: 'My Page',\n    level: '0',\n    url: 'http://localhost:8090/entando-de-app/en/my_page.page',\n    voidPage: false\n  },\n  {\n    code: 'homepage_test',\n    title: 'Home - test',\n    level: '1',\n    url: 'http://localhost:8090/entando-de-app/en/homepage_test.page',\n    voidPage: true\n  },\n  {\n    code: 'sitemap',\n    title: 'Sitemap',\n    level: '2',\n    url: 'http://localhost:8090/entando-de-app/en/sitemap.page',\n    voidPage: false\n  },\n  {\n    code: 'my_pagesdfdf',\n    title: 'My Page Wa',\n    level: '2',\n    url: 'http://localhost:8090/entando-de-app/en/my_page.page',\n    voidPage: false\n  },\n  {\n    code: 'gbadoasd',\n    title: 'Forever',\n    level: '3',\n    url: 'http://localhost:8090/entando-de-app/en/my_page.page',\n    voidPage: false\n  },\n  {\n    code: 'contact',\n    title: 'Contact',\n    level: '2',\n    url: 'http://localhost:8090/entando-de-app/en/contact.page',\n    voidPage: false\n  },\n  {\n    code: 'address',\n    title: 'Address',\n    level: '3',\n    url: 'http://localhost:8090/entando-de-app/en/address.page',\n    voidPage: false\n  },\n  {\n    code: 'about',\n    title: 'About',\n    level: '1',\n    url: 'http://localhost:8090/entando-de-app/en/homepage.page',\n    voidPage: true\n  },\n  {\n    code: 'homepage',\n    title: 'Home',\n    level: '0',\n    url: 'http://localhost:8090/entando-de-app/en/homepage.page',\n    voidPage: true\n  }\n];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n    this.handleExpandSidePanel = this.handleExpandSidePanel.bind(this);\n  }\n\n  handleExpandSidePanel() {\n    this.setState(prevState => ({\n      expanded: !prevState.expanded,\n    }));\n  }\n\n  render() {\n    return (\n      <Router>\n        <Header aria-label=\"Entando OOTB Widgets Dev\">\n          <HeaderName href=\"#\" prefix=\"Entando\">\n            OOTB Widgets Dev\n          </HeaderName>\n          <HeaderGlobalBar>\n          <HeaderGlobalAction\n            aria-label=\"Components List\"\n            onClick={this.handleExpandSidePanel}>\n            <AppSwitcher20 />\n          </HeaderGlobalAction>\n          </HeaderGlobalBar>\n          <HeaderPanel aria-label=\"Header Panel\" expanded={this.state.expanded}>\n            <Switcher aria-label=\"Switcher Container\">\n              <SwitcherItem aria-label=\"Language Chooser\" href=\"/\">\n                Language Chooser\n              </SwitcherItem>\n              <SwitcherItem href=\"/nav-bar\" aria-label=\"Navigation Bar\">\n                Navigation Bar\n              </SwitcherItem>\n              <SwitcherItem href=\"/login-button\" aria-label=\"Login Button\">\n                Login Button\n              </SwitcherItem>\n              <SwitcherItem href=\"/search-bar\" aria-label=\"Search Bar\">\n                Search Bar\n              </SwitcherItem>\n              <SwitcherItem href=\"/header-fragment\" aria-label=\"Header Fragment\">\n                Header Fragment\n              </SwitcherItem>\n              <SwitcherDivider />\n            </Switcher>\n          </HeaderPanel>\n        </Header>\n        <Content>\n          <Route\n            path=\"/\"\n            exact\n            render={() => (\n              <choose-language-widget\n                current-lang=\"EN\"\n                languages={JSON.stringify(languages)}\n              />\n            )} />\n          <Route\n            path=\"/login-button\"\n            exact\n            render={() => (\n              <div style={{paddingLeft: '100px'}}>\n                <login-button-widget\n                  admin-url={process.env.REACT_APP_BASEURL}\n                  redirect-url={`${process.env.REACT_APP_BASEURL}login-button`}\n                />\n              </div>\n            )} />\n          <Route\n            path=\"/nav-bar\"\n            exact\n            render={() => (\n              <Header aria-label=\"Entando Navigation Bar\">\n                <navigation-bar-widget\n                  current-page=\"homepage\"\n                  nav-items={JSON.stringify(sampleMenu)}\n                />\n              </Header>\n            )} />\n          <Route\n            path=\"/search-bar\"\n            exact\n            render={() => (\n              <search-bar-widget\n                action-url={process.env.REACT_APP_BASEURL}\n                placeholder=\"Search\"\n              />\n            )} />\n          <Route\n            path=\"/header-fragment\"\n            exact\n            render={() => (\n              <header-fragment app-url={process.env.REACT_APP_BASEURL}>\n                <template>\n                  <navigation-bar-widget\n                    current-page=\"homepage\"\n                    nav-items={JSON.stringify(sampleMenu)}\n                  />\n                  <choose-language-widget\n                    current-lang=\"EN\"\n                    languages={JSON.stringify(languages)}\n                  />\n                  <login-button-widget\n                    app-url={process.env.REACT_APP_BASEURL}\n                    page={`${process.env.REACT_APP_BASEURL}en/homepage_test.page`}\n                  />\n                </template>\n              </header-fragment>\n            )} />\n        </Content>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { OverflowMenu, OverflowMenuItem } from 'carbon-components-react';\nimport { ChevronDown24, FlagFilled24 } from '@carbon/icons-react';\n\nimport './ChooseLanguageWidget.scss';\n\nconst ChooseLanguageWidget = ({ languages, currentLang, menuLeanRight }) => (\n  <OverflowMenu\n    renderIcon={() => <><FlagFilled24 /><ChevronDown24 className=\"chooseLanguage__menu-arrow\" /></> }\n    flipped={menuLeanRight}\n    className=\"chooseLanguage\"\n  >\n    {languages.map(lang => (\n      <OverflowMenuItem\n        key={lang.code}\n        itemText={lang.descr}\n        href={lang.url}\n        className={[\n          'langItem',\n          ...(currentLang === lang.code ? ['active'] : []),\n        ].join(' ')}\n      />\n    ))}\n  </OverflowMenu>\n);\n\nChooseLanguageWidget.propTypes = {\n  languages: PropTypes.arrayOf(\n    PropTypes.shape({\n      code: PropTypes.string,\n      descr: PropTypes.string,\n      url: PropTypes.string,\n    }),\n  ),\n  currentLang: PropTypes.string,\n  menuLeanRight: PropTypes.bool,\n};\n\nChooseLanguageWidget.defaultProps = {\n  languages: [],\n  currentLang: '',\n  menuLeanRight: false,\n};\n\nexport default ChooseLanguageWidget;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ChooseLanguage from 'widgets/choose-language/ChooseLanguageWidget';\n\nconst ATTRIBUTES = {\n  languages: 'languages',\n  currentLang: 'current-lang',\n};\n\nclass ChooseLanguageElement extends HTMLElement {\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(attribute)) {\n      throw new Error(`Untracked changed attribute: ${attribute}`);\n    }\n    if (this.mountPoint && newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.mountPoint = document.createElement('div');\n    this.appendChild(this.mountPoint);\n    setTimeout(() => this.render(), 500);\n  }\n\n  render() {\n    const languages = JSON.parse(this.getAttribute(ATTRIBUTES.languages));\n    const currentLang = this.getAttribute(ATTRIBUTES.currentLang);\n    const rightBound = this.offsetLeft > (document.body.clientWidth / 2);\n\n    ReactDOM.render(\n      <ChooseLanguage\n        languages={languages}\n        currentLang={currentLang}\n        menuLeanRight={rightBound}\n      />,\n      this.mountPoint\n    );\n  }\n}\n\nif (!customElements.get('choose-language-widget')) {\n  customElements.define('choose-language-widget', ChooseLanguageElement);\n}\n\nexport default ChooseLanguageElement;\n","export const matches = (event, keysToMatch) => {\n  for (let i = 0; i < keysToMatch.length; i++) {\n    if (match(event, keysToMatch[i])) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const match = (eventOrCode, { key, which, keyCode } = {}) => {\n  if (typeof eventOrCode === 'string') {\n    return eventOrCode === key;\n  }\n\n  if (typeof eventOrCode === 'number') {\n    return eventOrCode === which || eventOrCode === keyCode;\n  }\n\n  if (eventOrCode.key && Array.isArray(key)) {\n    return key.indexOf(eventOrCode.key) !== -1;\n  }\n\n  return (\n    eventOrCode.key === key ||\n    eventOrCode.which === which ||\n    eventOrCode.keyCode === keyCode\n  );\n};\n\nexport const getCharacterFor = (eventOrCode) => {\n  if (typeof eventOrCode === 'number') {\n    return String.fromCharCode(eventOrCode);\n  }\n\n  return (\n    eventOrCode.key ||\n    String.fromCharCode(eventOrCode.which || eventOrCode.keyCode)\n  );\n};\n","export const Enter = {\n  key: 'Enter',\n  which: 13,\n  keyCode: 13,\n};\n\nexport const Escape = {\n  key: [\n    'Escape',\n    // IE11 Escape\n    'Esc',\n  ],\n  which: 27,\n  keyCode: 27,\n};\n\nexport const Space = {\n  key: ' ',\n  which: 32,\n  keyCode: 32,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChevronDown16 } from '@carbon/icons-react';\nimport { settings } from 'carbon-components';\nimport cx from 'classnames';\n\nimport { matches } from 'common/keyboard/match';\nimport { Enter, Space, Escape } from 'common/keyboard/keys';\nimport { AriaLabelPropType } from 'common/prop-types/AriaPropTypes';\n\nconst { prefix } = settings;\n\nclass HeaderMenu extends Component {\n  _subMenus = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      selectedIndex: null,\n    };\n    this.items = [];\n  }\n\n  handleOnIconClick = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    this.setState((prevState) => ({\n      expanded: !prevState.expanded,\n    }));\n  };\n\n  handleOnClick = (e) => {\n    const { href } = this.props;\n    if (href === '#') {\n      const { current: subMenusNode } = this._subMenus;\n      if (!subMenusNode || !subMenusNode.contains(e.target)) {\n        e.preventDefault();\n      }\n\n      this.setState((prevState) => ({\n        expanded: !prevState.expanded,\n      }));\n    }\n  };\n\n  handleOnKeyDown = (event) => {\n    if (matches(event, [Enter, Space])) {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.setState((prevState) => ({\n        expanded: !prevState.expanded,\n      }));\n\n      return;\n    }\n  };\n\n  handleOnBlur = (event) => {\n    \n    if (event.relatedTarget !== null) {\n      const closestRelatedSubmenu = event.relatedTarget.closest(`li.${prefix}--header__submenu`);\n      const closestSubmenu = event.currentTarget;\n      if (closestRelatedSubmenu) {\n        if (\n          closestSubmenu.dataset.uniqueId === closestRelatedSubmenu.dataset.uniqueId ||\n          closestSubmenu.querySelector(`li[data-unique-id='${closestRelatedSubmenu.dataset.uniqueId}']`)\n        ) {\n          event.stopPropagation();\n          return;\n        }\n      }\n    }\n\n    const itemTriggeredBlur = this.items.find(\n      (element) => element === event.relatedTarget\n    );\n    if (\n      event.relatedTarget &&\n      ((event.relatedTarget.getAttribute('href') &&\n        event.relatedTarget.getAttribute('href') !== '#') ||\n        itemTriggeredBlur)\n    ) {\n      return;\n    }\n    this.setState({ expanded: false, selectedIndex: null }); \n  };\n\n  handleMenuButtonRef = (node) => {\n    if (this.props.focusRef) {\n      this.props.focusRef(node);\n    }\n    this.menuButtonRef = node;\n  };\n\n  handleItemRef = (index) => (node) => {\n    this.items[index] = node;\n  };\n\n  handleMenuClose = (event) => {\n    if (matches(event, [Escape]) && this.state.expanded) {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.setState(() => ({\n        expanded: false,\n        selectedIndex: null,\n      }));\n\n      this.menuButtonRef.focus();\n      return;\n    }\n  };\n\n  render() {\n    const {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      className: customClassName,\n      children,\n      renderMenuContent: MenuContent,\n      menuLinkName,\n      href,\n      uniqueId,\n    } = this.props;\n    const accessibilityLabel = {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n    };\n    const className = cx(`${prefix}--header__submenu`, customClassName);\n\n    return (\n      <li // eslint-disable-line jsx-a11y/mouse-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions\n        className={className}\n        onKeyDown={this.handleMenuClose}\n        onClick={this.handleOnClick}\n        tabIndex={0}\n        data-unique-id={uniqueId}\n        onBlur={this.handleOnBlur}>\n        <a // eslint-disable-line jsx-a11y/role-supports-aria-props,jsx-a11y/anchor-is-valid\n          className={`${prefix}--header__menu-item ${prefix}--header__menu-title`}\n          href={href}\n          aria-expanded={this.state.expanded}\n          {...accessibilityLabel}>\n            {menuLinkName}\n            <button\n              aria-haspopup=\"menu\" // eslint-disable-line jsx-a11y/aria-proptypes\n              onClick={this.handleOnIconClick}\n              onKeyDown={this.handleOnKeyDown}\n              ref={this.handleMenuButtonRef}\n            >\n              <MenuContent />\n            </button>\n        </a>\n        <ul\n          {...accessibilityLabel}\n          ref={this._subMenus}\n          className={`${prefix}--header__menu`}>\n          {React.Children.map(children, this._renderMenuItem)}\n        </ul>\n      </li>\n    );\n  }\n\n  _renderMenuItem = (item, index) => {\n    if (React.isValidElement(item)) {\n      return React.cloneElement(item, {\n        ref: this.handleItemRef(index),\n      });\n    }\n  };\n}\n\nHeaderMenu.propTypes = {\n  ...AriaLabelPropType,\n  focusRef: PropTypes.func,\n  menuLinkName: PropTypes.string.isRequired,\n  renderMenuContent: PropTypes.func,\n  tabIndex: PropTypes.number,\n  uniqueId: PropTypes.string,\n  href: PropTypes.string,\n};\n\nconst defaultRenderMenuContent = () => (\n  <ChevronDown16 className={`${prefix}--header__menu-arrow`} />\n);\n\nHeaderMenu.defaultProps = {\n  renderMenuContent: defaultRenderMenuContent,\n  href: '#',\n  uniqueId: '',\n};\n\nconst HeaderMenuForwardRef = React.forwardRef((props, ref) => {\n  return <HeaderMenu {...props} focusRef={ref} />;\n});\n\nHeaderMenuForwardRef.displayName = 'HeaderMenu';\nexport default HeaderMenuForwardRef;","const isRequiredOneOf = (propTypes) => {\n  const names = Object.keys(propTypes);\n  const checker = (propType) => (props, propName, componentName, ...rest) => {\n    return propType(props, propName, componentName, ...rest);\n  };\n  return names.reduce(\n    (o, name) => ({\n      ...o,\n      [name]: checker(propTypes[name]),\n    }),\n    {}\n  );\n};\n\nexport default isRequiredOneOf;\n","import PropTypes from 'prop-types';\nimport isRequiredOneOf from './isRequiredOneOf';\n\nexport const AriaLabelPropType = isRequiredOneOf({\n  'aria-label': PropTypes.string,\n  'aria-labelledby': PropTypes.string,\n});","import React, { Component } from 'react';\nimport get from 'lodash/get';\nimport { HeaderNavigation, HeaderMenuItem } from 'carbon-components-react';\nimport { Login24, Logout16, ChevronDown16 } from '@carbon/icons-react';\nimport { settings } from 'carbon-components';\nimport HeaderMenu from 'common/ui-shell/HeaderMenu';\n\nimport 'widgets/login-button/LoginButtonWidget.scss';\n\nconst { prefix } = settings;\n\nconst KEYCLOAK_EVENT_ID = 'keycloak';\n\nconst getKeycloakInstance = () => {\n  const entando = window.entando || {};\n  const initialized = !!entando.keycloak;\n  return initialized ? { ...entando.keycloak, initialized} : { initialized };\n};\n\nclass LoginButtonWidget extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: null\n    };\n    this.keycloakEventHandler = this.keycloakEventHandler.bind(this);\n  }\n\n  keycloakEventHandler(event) {\n    const keycloakEvent = event.detail.eventType;\n    const keycloak = getKeycloakInstance();\n    switch (keycloakEvent) {\n      case 'onAuthSuccess':\n      case 'onAuthRefreshSuccess':\n        const username = get(keycloak, 'idTokenParsed.preferred_username');\n        this.updateUsername(username);\n        break;\n      case 'onAuthRefreshError':\n        this.resetUsername();\n        keycloak.logout();\n        break;\n      case 'onAuthLogout':\n        this.resetUsername();\n        break;\n      default:\n        break;\n    }\n  }\n\n  componentDidMount() {    \n    window.addEventListener(KEYCLOAK_EVENT_ID, this.keycloakEventHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(KEYCLOAK_EVENT_ID, this.keycloakEventHandler);\n  }\n\n  updateUsername(username) {\n    this.setState({\n      username,\n    })\n  }\n  \n  resetUsername() {\n    this.setState({\n      username: null,\n    })\n  }  \n\n  render() {\n    const {\n      adminUrl,\n      userDisplayName,\n      redirectUrl,\n    } = this.props;\n\n    const keycloak = getKeycloakInstance();\n\n    const displayName = userDisplayName || this.state.username;\n\n    const handleLogin = () => getKeycloakInstance().login({ redirectUri: redirectUrl });\n\n    const handleLogout = () => getKeycloakInstance().logout({ redirectUri: redirectUrl });\n\n    return (\n      <div className=\"LoginButtonWidget\">\n        {keycloak.authenticated ? (\n          <div className=\"LoginButtonWidget__welcome\">\n            <HeaderNavigation aria-label=\"My Account\">\n              <HeaderMenu\n                aria-label={displayName}\n                menuLinkName={displayName}\n                renderMenuContent={() => <ChevronDown16 className={`${prefix}--header__menu-arrow`} />}\n                className=\"navigationMenu\"\n              >\n                <HeaderMenuItem href={adminUrl}>\n                  Dashboard\n                </HeaderMenuItem>\n                <HeaderMenuItem onClick={handleLogout}>\n                  <Logout16 className=\"LoginButtonWidget__logoutsvg\" /> Logout\n                </HeaderMenuItem>\n              </HeaderMenu>\n            </HeaderNavigation>\n          </div>\n        ) : (\n          <Login24 onClick={handleLogin} className=\"LoginButtonWidget__loginsvg\" />\n        )}\n      </div>      \n    );\n  }\n}\n\nexport default LoginButtonWidget;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport LoginButtonWidget from 'widgets/login-button/LoginButtonWidget';\n\nconst ATTRIBUTES = {\n  sessionUser: 'session-user',\n  userDisplayName: 'user-display-name',\n  redirectUrl: 'redirect-url',\n  adminUrl: 'admin-url',\n};\n\nclass LoginButtonWidgetElement extends HTMLElement {\n\n  static TAG = 'login-button-widget';\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (!LoginButtonWidgetElement.observedAttributes.includes(attribute)) {\n      throw new Error(`Untracked changed attribute: ${attribute}`);\n    }\n    if (this.mountPoint && newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.mountPoint = document.createElement('div');\n    this.appendChild(this.mountPoint);\n    this.render();\n  }\n\n  render() {\n    const sessionUser = this.getAttribute(ATTRIBUTES.sessionUser);\n    const userDisplayName = this.getAttribute(ATTRIBUTES.userDisplayName);\n    const redirectUrl = this.getAttribute(ATTRIBUTES.redirectUrl);\n    const adminUrl = this.getAttribute(ATTRIBUTES.adminUrl);\n\n    ReactDOM.render(\n      <LoginButtonWidget\n        sessionUser={sessionUser}\n        userDisplayName={userDisplayName}\n        redirectUrl={redirectUrl}\n        adminUrl={adminUrl}\n      />,\n      this.mountPoint\n    );\n  }\n}\n\nif (!customElements.get(LoginButtonWidgetElement.TAG)) {\n  customElements.define(LoginButtonWidgetElement.TAG, LoginButtonWidgetElement);\n}\n\nexport default LoginButtonWidgetElement;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { HeaderNavigation, HeaderMenuItem } from 'carbon-components-react';\nimport { ChevronRight16, ChevronDown16 } from '@carbon/icons-react';\nimport { settings } from 'carbon-components';\n\nimport HeaderMenu from 'common/ui-shell/HeaderMenu';\n\nimport './NavigationBarWidget.scss';\n\nconst { prefix } = settings;\n\nconst subMenuRenderMenuContent = isTop => () => {\n  const Icon = isTop ? ChevronDown16 : ChevronRight16;\n  return <Icon className={`${prefix}--header__menu-arrow`} />;\n};\n\n\nclass NavigationBarWidget extends Component {\n\n  currentPageMarked = false;\n\n  renderNav(items, top, isCurrent) {\n    const { currentPage } = this.props;\n    const isTopMenu = Number(items[0].level) === 0;\n    const isFirstLevelMenu = Number(items[0].level) === 1;\n    const HeadComp = isTopMenu ? HeaderNavigation : HeaderMenu;\n\n    const selectedMenu = items.find(item => (\n      item.code === currentPage\n      || (item.children && item.children.find(childitem => childitem.code === currentPage))\n    ));\n    \n    let uniqueId = '{}';\n    if (top) {\n      let { children: ignoreme, ...itemNoChild } = top;\n      uniqueId = JSON.stringify(itemNoChild);\n    }\n\n    const menuProps = { \n      'aria-label': isTopMenu ? 'Menu' : top.title,\n      ...(isTopMenu\n        ? { className: 'navigationMenu' }\n        : {\n          menuLinkName: top.title,\n          renderMenuContent: subMenuRenderMenuContent(isFirstLevelMenu),\n          uniqueId,\n          key: uniqueId,\n        }\n      ),\n      ...(isCurrent ? { isCurrentPage: isCurrent } : {}),\n      ...(top && top.url && !top.voidPage ? { href: top.url } : { href: '#' }),\n    };\n\n    return (\n      <HeadComp {...menuProps}>\n        {items.map((item) => {\n          const isCurrentPage = !this.currentPageMarked && selectedMenu && selectedMenu.code === item.code;\n          if (isCurrentPage) this.currentPageMarked = true;\n\n          return item.children ? (\n            this.renderNav(item.children, item, isCurrentPage)\n          ) : (\n            <HeaderMenuItem \n              key={JSON.stringify(item)}\n              href={item.url}\n              isCurrentPage={isCurrentPage}\n            >\n              {item.title}\n            </HeaderMenuItem>\n          );\n          })}\n      </HeadComp>\n    );\n  }\n\n  render() {\n    const { navItems } = this.props;\n    this.currentPageMarked = false;\n    return this.renderNav(navItems);\n  }\n}\n\nNavigationBarWidget.propTypes = {\n  navItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      code: PropTypes.string,\n      title: PropTypes.string,\n      url: PropTypes.string,\n    }),\n  ),\n  currentPage: PropTypes.string.isRequired,\n};\n\nexport default NavigationBarWidget;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport NavigationBar from 'widgets/navigation-bar/NavigationBarWidget';\n\nconst ATTRIBUTES = {\n  navItems: 'nav-items',\n  currentPage: 'current-page',\n};\n\nclass NavigationBarElement extends HTMLElement {\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(attribute)) {\n      throw new Error(`Untracked changed attribute: ${attribute}`);\n    }\n    if (this.mountPoint && newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  condenseNavItems(navItemString) {\n    const parsed = JSON.parse(navItemString).map((navItem, navIdx) => ({ ...navItem, navIdx }));\n    const parentLevels = [];\n    const navItems = [];\n    parsed.forEach((nav, i) => {\n      if (Number(nav.level) !== parentLevels.length) {\n        while (Number(nav.level) !== parentLevels.length) {\n          if (nav.level > parentLevels.length) {\n            parentLevels.push(parsed[i-1]);\n          } else {\n            parentLevels.pop();\n          }\n        }\n      }\n      const currentLevel = parentLevels.length;\n      if (currentLevel > 0) {\n        if (!parentLevels[currentLevel-1].children) parentLevels[currentLevel-1].children = [];\n        parentLevels[currentLevel-1].children = [...parentLevels[currentLevel-1].children, nav];\n      } else {\n        navItems.push(nav);\n      }\n    });\n    return navItems;\n  }\n\n  render() {\n    const navItems = this.condenseNavItems(this.getAttribute(ATTRIBUTES.navItems));\n    const currentPage = this.getAttribute(ATTRIBUTES.currentPage);\n\n    ReactDOM.render(\n      <NavigationBar\n        navItems={navItems}\n        currentPage={currentPage}\n      />,\n      this\n    );\n  }\n}\n\nif (!customElements.get('navigation-bar-widget')) {\n  customElements.define('navigation-bar-widget', NavigationBarElement);\n}\n\nexport default NavigationBarElement;\n","import React, { useState } from 'react';\nimport cx from 'classnames';\nimport { Search24 } from '@carbon/icons-react';\n\nimport './SearchBarWidget.scss';\n\nconst SearchBarWidget = ({ actionUrl, placeholder }) => {\n  const [formOpened, setFormOpened] = useState(false);\n\n  const searchFormClass = cx('SearchBar', formOpened ? 'opened' : '');\n\n  return (\n    <form action={actionUrl} className={searchFormClass}>\n      {formOpened ? (\n        <>\n          <input type=\"text\" name=\"search\" placeholder={placeholder} />\n          <button type=\"submit\"><Search24 /></button>\n        </>\n      ) : <Search24 className=\"SearchBar__svg\" onClick={() => setFormOpened(true)} />\n      }\n    </form>\n  )\n\n}\n\nexport default SearchBarWidget;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SearchBar from 'widgets/search-bar/SearchBarWidget';\n\nconst ATTRIBUTES = {\n  actionUrl: 'action-url',\n  placeholder: 'placeholder',\n};\n\nclass SearchBarElement extends HTMLElement {\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(attribute)) {\n      throw new Error(`Untracked changed attribute: ${attribute}`);\n    }\n    if (newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  render() {\n    const actionUrl = this.getAttribute(ATTRIBUTES.actionUrl);\n    const placeholder = this.getAttribute(ATTRIBUTES.placeholder);\n\n    ReactDOM.render(\n      <SearchBar\n        actionUrl={actionUrl}\n        placeholder={placeholder}\n      />,\n      this\n    );\n  }\n}\n\nif (!customElements.get('search-bar-widget')) {\n  customElements.define('search-bar-widget', SearchBarElement);\n}\n\nexport default SearchBarElement;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Header } from 'carbon-components-react';\n\nimport './HeaderFragment.scss';\n\nclass HeaderFragment extends Component {\n  handleLogoAreaRef = (ref) => {\n    const { childNodes } = this.props;\n    const [ logo ] = childNodes.filter(child => (\n      child.getAttribute('role') === 'logo'\n    ));\n    if (logo) {\n      const clonedLogo = logo.cloneNode(true);\n      clonedLogo.classList.add('HeaderFragment__logo');\n      ref.appendChild(clonedLogo);\n    }\n  }\n\n  handleMenuAreaRef = (ref) => {\n    const { childNodes } = this.props;\n    const [ navbar ] = childNodes.filter(child => (\n      child.tagName.toLowerCase() === 'navigation-bar-widget'\n    ));\n    if (navbar) ref.appendChild(navbar.cloneNode(true));\n  }\n\n  handleActionsRef = (ref) => {\n    const { childNodes } = this.props;\n    const actionItems = childNodes.filter((child) => {\n      const tag = child.tagName.toLowerCase();\n      return (tag !== 'navigation-bar-widget'\n      && tag !== 'script'\n      && tag !== 'link'\n      && child.getAttribute('role') !== 'logo')\n      || tag === 'login-button-widget'\n      || tag === 'choose-language-widget'\n    });\n    actionItems.forEach((action) => {\n      const clonedAction = action.cloneNode(true);\n      if (clonedAction.classList.contains('navbar-search')) {\n        clonedAction.classList.add('Homepage__search');\n      }\n      ref.appendChild(clonedAction);\n    });\n  }\n\n  render() {\n    const { applicationBaseURL } = this.props;\n    return (\n      <Header aria-label=\"Entando\" className=\"HeaderFragment\">\n        <a ref={this.handleLogoAreaRef} />\n        <div ref={this.handleMenuAreaRef} className=\"HeaderFragment__menu-area\" />\n        <div ref={this.handleActionsRef} className=\"bx--header__global HeaderFragment__actions-area\" />\n      </Header>\n    );\n  }\n}\n\nHeaderFragment.propTypes = {\n  childNodes: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.instanceOf(Element)),\n    PropTypes.instanceOf(Element),\n  ]),\n  applicationBaseURL: PropTypes.string,\n};\n\nHeaderFragment.defaultProps = {\n  applicationBaseURL: process.env.REACT_APP_BASEURL,\n};\n\nexport default HeaderFragment;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport HeaderFragment from 'fragments/header-fragment/HeaderFragment';\n\nconst ATTRIBUTES = {\n  applicationBaseURL: 'app-url',\n};\n\nclass HeaderFragmentElement extends HTMLElement {\n  observer = null;\n  childs = [];\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n  \n\n  attributeChangedCallback(attribute, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(attribute)) {\n      throw new Error(`Untracked changed attribute: ${attribute}`);\n    }\n    if (newValue !== oldValue && this.childs.length) {\n      this.extractTemplateTag();\n    }\n  }\n\n  extractTemplateTag(ttag) {\n    const templ = ttag || this.getElementsByTagName('template')[0];\n    if (templ) {\n      const contentChildren = templ.content && templ.content.children;\n      if (contentChildren.length) {\n        this.childs = [...contentChildren];\n      } else {\n        this.childs = [...templ.childNodes];\n      }\n      this.render();\n    }\n  }\n\n  activateObserve() {\n    const templateTag = this.querySelector('template');\n    if (templateTag) {\n      this.extractTemplateTag(templateTag);\n    } else {\n      this.observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.addedNodes.length) {\n          }\n          if (mutation.addedNodes.length\n            && mutation.addedNodes[0].tagName\n            && mutation.addedNodes[0].tagName.toLowerCase() === 'template'\n          ) {\n            setTimeout(() => (\n              this.extractTemplateTag(mutation.addedNodes[0])\n            ), 500);\n          }\n        });\n      });\n      this.observer.observe(this, { childList: true });\n    }\n  }\n\n  connectedCallback() {\n    this.activateObserve();\n  }\n\n  render() {\n    const applicationBaseURL = this.getAttribute(ATTRIBUTES.applicationBaseURL);\n\n    ReactDOM.render(\n      <HeaderFragment\n        applicationBaseURL={applicationBaseURL}\n        childNodes={this.childs}\n      />,\n      this\n    );\n  }\n}\n\nif (!customElements.get('header-fragment')) {\n  customElements.define('header-fragment', HeaderFragmentElement);\n}\n\nexport default HeaderFragmentElement;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'index.scss';\nimport App from 'App';\n\nimport 'widgets/choose-language/custom-element/ChooseLanguageElement';\nimport 'widgets/login-button/LoginButtonWidgetElement';\nimport 'widgets/navigation-bar/custom-element/NavigationBarElement';\nimport 'widgets/search-bar/custom-element/SearchBarElement';\nimport 'fragments/header-fragment/custom-element/HeaderFragmentElement';\n\n// import './kc-init';  // COMMENT this line in prod, it does the work of keycloak_auth fragment\n\nif (process.env.REACT_APP_LOCAL === 'true') {\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root'),\n  );\n}\n"],"sourceRoot":""}